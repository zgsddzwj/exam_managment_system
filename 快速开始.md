# 🚀 快速开始指南

## 当前状态

✅ **后端服务器已启动**: http://localhost:8000  
✅ **前端服务器已启动**: http://localhost:5173  
✅ **数据库已初始化**: SQLite (开发环境)

## 立即开始

### 1. 打开浏览器
访问：**http://localhost:5173**

### 2. 创建第一个账号

#### 选项A：通过网页注册（推荐）
1. 点击页面上的"注册"链接
2. 填写信息：
   - 用户名：`teacher1`
   - 邮箱：`teacher1@example.com`
   - 角色：选择 **"教师"**
   - 密码：`password123`
   - 确认密码：`password123`
3. 点击"注册"按钮
4. 系统会自动登录并跳转到仪表板

#### 选项B：创建管理员账号（通过命令行）
```bash
cd backend
source ../venv/bin/activate
python manage.py createsuperuser
# 按提示输入用户名、邮箱和密码
```

### 3. 教师操作（5分钟快速体验）

#### 步骤1：创建班级
1. 登录后，点击导航栏的"班级管理"
2. 点击"创建班级"按钮
3. 填写：
   - 班级名称：`Python基础班`
   - 描述：`学习Python编程基础`
4. 点击"创建"

#### 步骤2：生成邀请码
1. 在班级列表中，找到刚创建的班级
2. 点击"生成邀请码"按钮
3. **复制邀请码**（例如：`A1B2C3D4`）
4. 这个邀请码用于学生加入班级

#### 步骤3：创建任务
1. 点击导航栏的"任务管理"（如果已实现）
2. 或者直接访问：http://localhost:8000/api/tasks/（需要先登录）
3. 创建任务：
   - 任务标题：`计算两数之和`
   - 描述：
     ```
     编写一个程序，计算两个整数的和。
     输入：两个整数，用空格分隔
     输出：它们的和
     示例：输入 5 10，输出 15
     ```
   - 编程语言：选择 `Python`
   - 所属班级：选择刚创建的班级
4. 添加测试用例：
   - 测试用例1：
     - 输入数据：`5 10`
     - 期望输出：`15`
     - 是否隐藏：否
   - 测试用例2：
     - 输入数据：`-3 7`
     - 期望输出：`4`
     - 是否隐藏：否
5. 点击"创建"

### 4. 学生操作（5分钟快速体验）

#### 步骤1：注册学生账号
1. 打开新的浏览器窗口（或使用无痕模式）
2. 访问：http://localhost:5173
3. 点击"注册"
4. 填写信息：
   - 用户名：`student1`
   - 邮箱：`student1@example.com`
   - 角色：选择 **"学生"**
   - 密码：`password123`
5. 点击"注册"

#### 步骤2：加入班级
1. 登录后，点击"我的班级"
2. 在"通过邀请码加入班级"区域
3. 输入教师提供的邀请码（例如：`A1B2C3D4`）
4. 点击"加入"
5. 成功后会显示在班级列表中

#### 步骤3：查看任务
1. 点击"我的任务"
2. 应该能看到教师创建的任务
3. 点击任务标题进入代码编辑器

#### 步骤4：编写和测试代码
1. 在代码编辑器中，左侧是代码编辑区
2. 右侧是任务描述
3. 编写Python代码：
   ```python
   a, b = map(int, input().split())
   print(a + b)
   ```
4. 点击"测试"按钮
5. 查看测试结果：
   - 如果通过，会显示"通过: 2 / 2"
   - 如果失败，会显示错误信息
6. 可以多次测试和修改代码

#### 步骤5：提交代码
1. 测试通过后，点击"提交"按钮
2. 确认提交
3. 系统会自动评分并保存

### 5. 查看结果

#### 教师查看学生提交
1. 以教师身份登录
2. 在任务管理页面查看提交记录
3. 可以查看每个学生的代码、得分和测试结果

#### 导出成绩
1. 在班级或任务页面
2. 点击"导出成绩"
3. 选择Excel或CSV格式
4. 下载成绩单

## 🎯 完整功能演示流程

### 场景：教师布置作业，学生完成并提交

1. **教师端**：
   - 创建班级 → 生成邀请码
   - 创建任务 → 添加测试用例
   - 查看学生提交 → 导出成绩

2. **学生端**：
   - 注册账号 → 加入班级
   - 查看任务 → 编写代码
   - 测试代码 → 提交代码
   - 查看提交历史

## ⚠️ 重要提示

### 代码执行功能
- 当前需要配置Judge0 API密钥才能执行代码
- 如果没有配置，测试和提交功能会报错
- 配置方法：
  1. 注册 https://rapidapi.com/
  2. 订阅Judge0 API
  3. 获取API密钥
  4. 在`backend/.env`文件中添加：
     ```
     JUDGE0_API_KEY=your-api-key-here
     ```

### 数据库
- 当前使用SQLite（开发环境）
- 数据存储在：`backend/db.sqlite3`
- 生产环境建议使用PostgreSQL

## 🛠️ 常用命令

### 停止服务器
```bash
# 方法1：使用停止脚本
./stop.sh

# 方法2：手动停止
# 查找进程
ps aux | grep "manage.py runserver"
ps aux | grep "vite"

# 停止进程（替换PID）
kill <PID>
```

### 重启服务器
```bash
./stop.sh
./start.sh
```

### 查看日志
```bash
# 后端日志
tail -f backend.log

# 前端日志
tail -f frontend.log
```

### 重置数据库
```bash
cd backend
source ../venv/bin/activate
rm db.sqlite3
python manage.py migrate
python manage.py createsuperuser
```

## 📞 需要帮助？

1. 查看详细操作指南：`操作指南.md`
2. 查看README：`README.md`
3. 检查服务器日志：`backend.log` 和 `frontend.log`

---

**现在就开始使用吧！** 🎉

访问：http://localhost:5173

